## 4、工厂模式

### 4.1 简单工厂模式

> 简单工厂模式是由一个工厂对象决定创建出哪一种产品类的实例

```typescript
abstract class Coffee {
  constructor(public name: string) {
  }
}
class AmericanoCoffee extends Coffee {
}
class LatteCoffee extends Coffee {
}
class CappuccinoCoffee extends Coffee {
}
class Factory {
  static order(name: string) {
    switch (name) {
      case 'Americano':
        return new AmericanoCoffee('美式')
      case 'LatteCoffee':
        return new LatteCoffee('拿铁')
      case 'CappuccinoCoffee':
        return new CappuccinoCoffee('卡布奇诺')
      default:
        return new Error('没有！')
    }
  }
}
console.log(Factory.order('Americano'));
console.log(Factory.order('LatteCoffee'));
console.log(Factory.order('CappuccinoCoffee'));
```

### 4.2 工厂模式

> + 工厂方法模式`Factory Method`，又称多态性工厂模式
> + 在工厂方法模式中，**核心的工厂类**不在负责所有的产品的创建，而是创建**具体工厂**，通过具体的工厂创建具体的实例

+ **生活中的例子：**

```typescript
abstract class Coffee {
  constructor(public name: string){}
}

class AmericanoCoffee extends Coffee {
}
class LatteCoffee extends Coffee {
}
class CappuccinoCoffee extends Coffee {
}

abstract class CoffeeFactory {
  abstract createCoffee():Coffee
}
class AmericanoCoffeeFactory extends CoffeeFactory {
  createCoffee() {
    return new AmericanoCoffee('美式')
  }
}
class LatteCoffeeFactory extends CoffeeFactory {
  createCoffee() {
    return new LatteCoffee('拿铁')
  }
}
class CappuccinoCoffeeFactory extends CoffeeFactory {
  createCoffee() {
    return new CappuccinoCoffee('卡布奇诺')
  }
}

let americanoCoffeeFactory =  new AmericanoCoffeeFactory()
console.log(americanoCoffeeFactory.createCoffee());

let latteCoffeeFactory =  new LatteCoffeeFactory()
console.log(latteCoffeeFactory.createCoffee());

let cappuccinoCoffeeFactory =  new CappuccinoCoffeeFactory()
console.log(cappuccinoCoffeeFactory.createCoffee());

class Factory {
  static order(name: string) {
    switch (name) {
      case 'Americano':
        return new AmericanoCoffeeFactory().createCoffee()
      case 'LatteCoffee':
        return new LatteCoffeeFactory().createCoffee()
      case 'CappuccinoCoffee':
        return new CappuccinoCoffeeFactory().createCoffee()
      default:
        return new Error('没有！')
    }
  }
}
console.log(Factory.order('Americano'));
console.log(Factory.order('LatteCoffee'));
console.log(Factory.order('CappuccinoCoffee'));
```

+ **工作中的例子：**

```typescript
function createElement(type: any, config: any) {
  return {type, props:config}
}
function createFactory(type: string) {
  const facory = createElement.bind(null, type)
  return facory
}
let factory = createFactory('h1')
let element = factory({id: 'h1', className: 'title'})
console.log(element);
```

### 4.3 抽象工厂模式

> 的

